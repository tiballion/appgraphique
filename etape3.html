<!DOCTYPE html>
<html lang="en">
    <head>
      <script>
	// Hack for scrolling window when linking to anchor tag with fixed nav header
        var shiftWindow = function() { scrollBy(0, -75) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="./img/favicon.ico">
        <title>Etape 3 - AOP 4.2 Programmer en C++ sans pointeur (ou presque)</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    <link href="css/style.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/http.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="js/base.js"></script> 
    </head>

    <body class="">

      <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
	<div class="container">
	<a class="navbar-brand" href="index.html">AOP 4.2 Programmer en C++ sans pointeur (ou presque)</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse">
          <!-- Main navigation -->
          <nav class="nav">
            <ul class="navbar-nav">
              <li >
                <a class="nav-link" href="index.html">Descriptif</a>
              </li>
              <li >
                <a class="nav-link" href="etape1.html">Etape 1</a>
              </li>
              <li >
                <a class="nav-link" href="etape2.html">Etape 2</a>
              </li>
              <li class="active">
                <a class="nav-link" href="etape3.html">Etape 3</a>
              </li>
              <li >
                <a class="nav-link" href="etape4.html">Etape 4</a>
              </li>
              <li >
                <a class="nav-link" href="etape5.html">Etape 5</a>
              </li>
            </ul>
          </nav>

          <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
          </ul>
	</div>
	</div>
      </nav><div id="content" class="container">
        
      <div class="row">
        <div class="col-md-9" role="main">


<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    
    <li class="breadcrumb-item active" aria-current="page">Etape 3</li>
  </ol>
</nav>


<h1 id="implementer-la-partie-graphique">Implémenter la partie graphique</h1>
<p>Dans cette étape, vous devez implémenter la classe <strong>Appli</strong> dont la déclaration vous a déjà été fournie (dans le répertoire include).</p>
<h2 id="lecture-et-comprehension-du-code-fourni">Lecture et compréhension du code fourni</h2>
<p>Commencer par lire la déclaration de la classe Appli dans le fichier Appli.h, vous y trouverez les attributs ainsi que les méthodes que vous devrez implémenter.</p>
<p>Vous pourrez tout d'abord remarquer l'inclusion d'une bibliothèque appelée SFML (Simple and Fast Multimedia Library). Contrairement à des bibliothèques de plus complètes (et plus complexes) comme Qt qui fournit tous les compposants graphiques (bouton, slider, etc.) pour la réalisation d'une application, la SFML permet simplement d'afficher des éléments et de jouer des musiques. Pour plus de détails rendez vous sur la page web de la <a href="https://www.sfml-dev.org/index-fr.php">SFML</a>). </p>
<p>Pour chaque attribut dont les types sont définis dans la SFML, consultez la documentation (en français) de la bibliothèque. Identifiez le rôle qu'auront ces différents attributs.</p>
<h2 id="implementation-des-methodes-publiques">Implémentation des méthodes publiques</h2>
<p>Commencez par implémenter les méthodes public de la classe, à savoir :</p>
<ul>
<li>le constructeur Appli((unsigned int largeur, unsigned int hauteur) : le construteur devra initialiser les attributs de la classe et notamment le <em>RenderWindow</em> qui permet l'affichage de la scene graphique.</li>
<li>setGraphe(GrapheValue &amp;g) : qui permet d'initialiser l'attribut m_g (c'est ici que ce trouve le 1er pointeur du projet)</li>
<li>running() const : permet de savoir si la fenetre (RenderWindow) est toujours ouvert.</li>
<li>exec() : si la fenetre est toujours ouverte, va appeler successivement traiter_evenements et dessiner</li>
</ul>
<h2 id="implementation-de-la-methode-dessiner">Implémentation de la méthode dessiner</h2>
<p>Implémentez la méthode dessiner. Cette méthode devra dessiner chacune des arêtes puis chacun des sommets du graphe (l'ordre est important si vous ne voulez pas dessiner les arêtes par dessus les sommets). </p>
<p>Vous pouvez pour vous aider consulter un des <a href="https://www.sfml-dev.org/tutorials/2.0/graphics-shape-fr.php">tutoriels</a> de la SFML.</p>
<h2 id="traiter-et-gerer-les-evenements">Traiter et gérer les événements</h2>
<p>Le principe de base dans la gestion des événements en SFML est que ces événement sont stockées dans une poule d'événement jusqu'à ce qu'ils aient été traités. Cela se fait en utisant la méthode pollEvent de la classe RenderWindow qui permet de réccupérer un à un ces événements.</p>
<p>Par exemple :</p>
<pre><code>    sf::Event e;
    while (m_fenetre.pollEvent(e)) // a chaque tour de boucle e est l'événement courant
    {   
        // traitement de l'événement e
    }
</code></pre>
<p>Pour traiter l'événement, il faut commencer par en regarder le "type":</p>
<pre><code>    switch(e.type){
        case ... : 
            ...
            break;
         case ... : 
            ...
            break;
    }
</code></pre>
<p>La SFML propose plusieurs "type" d'événements que vous pourrez trouver <a href="https://www.sfml-dev.org/documentation/2.5.1-fr/classsf_1_1Event.php">ici</a> dans la documentation de la classe.</p>
<p>Si l'événement est d'un certain type, vous pouvez alors demander plus de précision. Par exemple, si le type de l'événement est sf::KeyPressed alors il est possible de récupérer la touche qui a été pressée. </p>
<p>Vous pouvez dans un premier temps ne pas gérer l'affichage des <em>labels</em> (étiquettes) ni de l'interpolation des couleurs. Ces fonctionnalités ne sont pas du tout obligatoires (en particulier le texte qui peut être complexe à gérer correctement).</p>

<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
  <li class="last-updated-holder displayDate loading">
    <span class="last-updated-text">Last updated:</span>
    <time role="presentation" datetime="2018-10-25T00:00:00.000Z" data-article-date-source="ms.date"></time>
  </li>
<!--
  <li class="readingTime">
    2 minutes to read
  </li>
-->
  <li class="contributors-holder">
    <span class="contributors-text">Contributors</span>
    <ul class="contributors" data-bi-name="contributors"></ul>
  </li>
</ul>
</div>
        <div class="col-md-3"><div class="navbar-light navbar-expand-md hidden-print sticky-top sticky-offset" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    <div id="toc-collapse" class="navbar-collapse collapse card">
        <ul class="nav flex-column bs-sidenav">
            <li class="nav-item main"><a class="nav-link" href="#implementer-la-partie-graphique">Implémenter la partie graphique</a></li>
                <li class="nav-item">
                    <a href="#lecture-et-comprehension-du-code-fourni" class="nav-link">Lecture et compréhension du code fourni</a>
                </li>
                <li class="nav-item">
                    <a href="#implementation-des-methodes-publiques" class="nav-link">Implémentation des méthodes publiques</a>
                </li>
                <li class="nav-item">
                    <a href="#implementation-de-la-methode-dessiner" class="nav-link">Implémentation de la méthode dessiner</a>
                </li>
                <li class="nav-item">
                    <a href="#traiter-et-gerer-les-evenements" class="nav-link">Traiter et gérer les événements</a>
                </li>
        </ul>
    </div>
</div></div>
      </div>
      </div>

      <footer class="col-md-12">
	<hr>
	<div class="container">
	  <p>IUT de Bordeaux</p>
	</div>
      </footer>
      <script>
	var base_url = ".",
            shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
      </script>
      <script src="js/base.js" defer></script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <p class="h4 modal-title">Keyboard Shortcuts</p>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
